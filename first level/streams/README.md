[Вернуться к оглавлению](https://github.com/engine-it-in/different-level-task/blob/main/README.md)
***
* [Streams API](#streams-api)
  * [Non-Terminal Operations](#non-terminal-operations)
  * [Terminal Operations](#terminal-operations)
***
# Streams API
Api, используемое для обработки и сокращения коллекций.

## Non-Terminal Operations
| Метод        | Описание                                                                                                                                                                                                                                                                                                  |
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `filter()`   | Фильтрует элементы, согласно условию, переданному как Predicate, BiPredicate.                                                                                                                                                                                                                             |
| `map()`      | Преобразует элемент потока. использует `Function<? super T, ? extends R>`.                                                                                                                                                                                                                                |
| `flatMap()`  | Преобразует стрим из одних объектов в стрим из других объектов. Если объект хранит в себе коллекцию других объектов, возвращается стрим из них, после чего `flatMap()` делает из них один "плоский" стрим. Использует `<R> Stream<R> flatMap(Function<? super T, ? extends Stream<? extends R>> mapper)`. |
| `distinct()` | Обрабатывает только уникальные элементы потока.                                                                                                                                                                                                                                                           |
| `sorted()`   | Применяет сортировку к элементам (можно передать Comparator).                                                                                                                                                                                                                                             |
| `limit()`    | Лимитирует размер стрима согласно переданному long.                                                                                                                                                                                                                                                       |
| `peek()`     | Операции над элементом (можно логгировать). Не рекомендуется к использованию.                                                                                                                                                                                                                             |

## Terminal Operations
| Метод               | Описание                                                                                                                                                                                                                                                                                                                                                               |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `anyMatch()`        | Возвращает boolean, соответствующий `Predicate<? super T> predicate`, переданной в него. Говорит о том, что хотя бы один объект стрима соответствует условию.                                                                                                                                                                                                          |
| `collect()`         | Собирает элементы стрима в Collection, Map (передаем функции, которые (1) возвращают ключ, (2) возвращает значение). Может сгруппировать элементы (вернуть мапу, где ключ - объект, по которому группируем против листа со значениями). Пример: `Map<Customer, List<Order>> result = orderRepo.findAll().stream().collect(Collectors.groupingBy(Order::getCustomer));` |
| `count()`           | Возвращает кол-во элементов в Stream.                                                                                                                                                                                                                                                                                                                                  |
| `findFirst()`       | Возвращает `Optional` первого элемента стрима (используется в связке с фильтром).                                                                                                                                                                                                                                                                                      |
| `min()`             | Возвращает элемент, значение которого минимально согласно результату переданного `Comparator<? super T> comparator`.                                                                                                                                                                                                                                                   |
| `max()`             | Возвращает элемент, значение которого максимально согласно результату переданного `Comparator<? super T> comparator`.                                                                                                                                                                                                                                                  |
| `sum()`             | Суммирует элементы стрима (перед тем как суммировать, нужно замапить стрим на что-либо суммируемое, к примеру сделать `mapToDouble()`).                                                                                                                                                                                                                                |
| `average()`         | Возвращает среднее из элементов стрима.                                                                                                                                                                                                                                                                                                                                |
| `reduce()`          | Принимает идентификатор (начальный элемент), накопитель (`BiFunction<U, ? super T, U> accumulator`) - функция (на вход - subtotal и следующий элемент), и объединитель (`BinaryOperator<U> combiner`) - функция, служащая для объединения элементов, когда тип элемента стрима не совпадает с типом, который принимает накопитель.                                     |
| `summaryStatistics` | Возвращает объект `SummaryStatistics`, содержащий среднее, минимум, максимум, кол-во и сумму.                                                                                                                                                                                                                                                                          |