[Вернуться к оглавлению](https://github.com/engine-it-in/different-level-task/blob/main/README.md)
***
* [Docker](#docker)
  * [Components](#components)
    * [Daemon](#daemon)
    * [Image](#image)
    * [Container](#container)
    * [CLI](#cli)
    * [Compose](#compose)
  * [General Commands](#general-commands)
  * [Dockerfile](#dockerfile)
    * [Instructions](#instructions)
  * [The very base image](#the-very-base-image)
***
![Описание картинки](картинка из той же папки)
***
[Визуальный конспект](ссылка на картинку)
***

# Docker

* Технология/платформа контейнеризации:
  * Упаковываем систему в контейнер и работаем с ней через контейнер;

## Components

### Daemon

* Основной процесс, который запускает и управляет контейнерами Docker; 
* Слушает API-запросы Docker и управляет 
  * контейнерами; 
  * образами; 
  * сетями; 
  * и другими аспектами системы.

### Image

* Портативные и легковесные среды, которые содержат все необходимое для запуска приложения; 
* Включают код, зависимости, настройки и другие компоненты; 
* Из образа можно создать множество контейнеров;

### Container

* Экземпляры образов (image), которые выполняются в изолированной среде; 
* Контейнеры являются легковесными, быстрыми и способными к масштабированию: 
  * Они разделяют ядро операционной системы с хост-машиной и используют общие ресурсы;

### CLI

* Командная строка, позволяет взаимодействовать с Docker-демоном и управлять: 
  * контейнерами, образами, сетями и т.д. 
* Команды Docker CLI позволяют: 
  * создавать; 
  * запускать; 
  * останавливать; 
  * удалять контейнеры; 
  * собирать образы;
  * и многое другое;

### Compose

* Инструмент, который определяет и управляет многоконтейнерными приложениями 
с помощью файла конфигурации YAML;
* Docker Compose автоматизирует процесс создания и связывания контейнеров, 
что делает развертывание приложений проще и более управляемым;

## General Commands

| command         | description                          |
|-----------------|--------------------------------------|
| `docker run`    | Запускает контейнер на основе образа |
| `docker pull`   | Загружает образ из Docker Hub        |
| `docker build`  | Создает образ на основе Dockerfile   |
| `docker ps`     | Показывает запущенные контейнеры     |
| `docker stop`   | Останавливает контейнеры             |
| `docker rm`     | Удаляет контейнеры                   |
| `docker rmi`    | Удаляет образы                       |
| `docker exec`   | Запускает команду внутри контейнера  |
| `docker logs`   | Показывает логи контейнера           |
| `docker images` | Показывает список образов            |

## Dockerfile

* Dockerfile - текстовый файл, который содержит инструкции для построения образа Docker; 
* Описывает, как создать контейнер, включая: 
  * определение базового образа; 
  * настройки среды; 
  * копирование файлов; 
  * установку зависимостей 
  * и многое другое;

### Instructions

| instruction  | description                                                                                                            |
|--------------|------------------------------------------------------------------------------------------------------------------------|
| `FROM`       | Определяет базовый образ, на основе которого будет создаваться новый образ                                             |
| `MAINTAINER` | Устанавливает информацию о создателе образа                                                                            |
| `RUN`        | Выполняет команды внутри контейнера во время сборки образа                                                             |
| `COPY`       | Копирует файлы или директории из хоста внутрь образа (предпочтительно перед `COPY`)                                    |
| `ADD`        | Копирует файлы или директории из хоста внутрь образа                                                                   |
| `WORKDIR`    | Устанавливает рабочую директорию для команд внутри контейнера                                                          |
| `EXPOSE`     | Задает порт, который контейнер будет слушать во время выполнения                                                       |
| `CMD`        | Задает выполняемую команду или программу, которая будет запущена при запуске контейнера                                |
| `ENTRYPOINT` | Задает выполняемую команду или программу, которая будет запущена при запуске контейнера (не может быть переопределена) |
| `ENV`        | Устанавливает переменные среды в образе                                                                                |
| `ARG`        | Определяет переменные, которые могут быть переданы через командную строку при сборке образа                            |

## The very base image

* Самый корневой базовый образ в Docker — это образ с именем scratch; 
* Представляет собой пустой образ, который не содержит ничего — 
ни операционной системы, ни инструментов, только пустое пространство для данных и приложений;

Пример использования scratch в Dockerfile:
```Dockerfile
FROM scratch
COPY my-binary /my-binary
CMD ["/my-binary"]
```
Этот Dockerfile создаёт образ, который содержит только один бинарный файл (my-binary) и запускает 
его при старте контейнера;